<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="google-site-verification" content="14dvQcWyDWHBo8aM0kld8XzEa6KypAzCQDz1_KPus9E" />
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1812620-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-1812620-2');
  </script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    "HTML-CSS": {
    styles: {
    ".MathJax .mo, .MathJax .mi": {color: "black ! important"}}
    },
    tex2jax: {
      inlineMath: [['$','$'], ['\\\\(','\\\\)']],
      displayMath: [['$$','$$'], ["\\[","\\]"]],
      processEscapes: true,
    }
    });
  </script>
  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="/theme/css/style.min.css">
  <!--<link rel="stylesheet" type="text/css" href="/theme/css/pygments.min.css">-->
  <link rel="stylesheet" type="text/css" href="/theme/css/pygments/github.css">
  <link rel="stylesheet" type="text/css" href="/theme/css/font-awesome.min.css">
  <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Bytepawn - Marton Trencseni Atom">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />
<meta name="author" content="Marton Trencseni" />
<meta name="description" content="What is more readable, 1.539e+5 or 153,859? Showing numbers effectively on spreadsheets, charts, dashboards, reports is a basic ingredient for readability, like formatting code." />
<meta name="keywords" content="charts, dashboards, data, visualization">
<meta property="og:site_name" content="Bytepawn - Marton Trencseni"/>
<meta property="og:title" content="Effective Data Visualization Part 2: Formatting numbers"/>
<meta property="og:description" content="What is more readable, 1.539e+5 or 153,859? Showing numbers effectively on spreadsheets, charts, dashboards, reports is a basic ingredient for readability, like formatting code."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="/effective-data-visualization-part-2-formatting-numbers.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2020-08-23 00:00:00+02:00"/>
<meta property="article:modified_time" content="2020-08-23 00:00:00+02:00"/>
<meta property="article:author" content="/author/marton-trencseni.html">
<meta property="article:section" content="Data"/>
<meta property="article:tag" content="charts"/>
<meta property="article:tag" content="dashboards"/>
<meta property="article:tag" content="data"/>
<meta property="article:tag" content="visualization"/>
<meta property="og:image" content=""/>

  <title>Bytepawn - Marton Trencseni &ndash; Effective Data Visualization Part 2: Formatting numbers</title>
</head>
<body>
  <aside>
    <div>
      <a href="/">
        <img src="/theme/img/profile.png" alt="" title="">
      </a>
      <!--<h2><a href="">Bytepawn - Marton Trencseni</a></h2>-->
      <h2><a href="http://bytepawn.com">Bytepawn</a></h2>
      <p></p>
      <nav>
        <ul class="list">
          <li><a href="/">home</a></li>
          <li><a href="https://github.com/mtrencseni">github</a></li>
          <li><a href="https://www.linkedin.com/in/mtrencseni">linkedin</a></li>
          <li><a href="http://arxiv.org/find/all/1/au:+trencseni/0/1/0/all/0/1">arxiv</a></li>
        </ul>
      </nav>
      <ul class="social">
      </ul>
    </div>
  </aside>
  <main>

<article>
  <header>
    <h1 id="effective-data-visualization-part-2-formatting-numbers">Effective Data Visualization Part 2: Formatting numbers</h1>
    <p>Marton Trencseni - Sun 23 August 2020 - <a href="/category/data.html">Data</a></p>
  </header>
  <div>
    <h2>Introduction</h2>
<p>What is more readable, <code>1.539e+5</code> or <code>153,859</code>? Showing numbers effectively on spreadsheets, charts, dashboards, reports is a basic ingredient for readability, like formatting code.</p>
<p>For this article, I will use the <a href="https://d3js.org/">d3 Javascript visualization library</a>, because I use <a href="https://github.com/apache/incubator-superset">Superset</a> for charts and dashboards on a daily basis, and Superset uses d3.</p>
<p><strong>Where should numbers be formatted?</strong> By the database? No, numbers and dates should be formatted at the last possible moment, before human consumption (eg. by the Javascript in the browser). Why? Because formatting (i) may lose information, for example the time part of a datetime gets cut off if only the date is included, or numbers are rounded (ii) the type of the data (<code>date, datetime, int, float</code>) gets lost as everything gets converted to a <code>string</code>. This can lead to eg. incorrect ordering, because <code>'9' &gt; '10'</code> even though <code>9 &lt; 10</code>.</p>
<p>On my macbook, to play around with d3, I use <a href="nodejs.org">node.js</a>:</p>
<div class="highlight"><pre><span></span>npm install d3 &amp;&amp; npm install -g d3
node
&gt;&gt; var d3 = require(&quot;d3&quot;);
&gt;&gt; d3.format(&#39;,&#39;)(12345)
&#39;12,345&#39;
&gt;&gt; d3.timeFormat(&#39;%Y-%m-%d&#39;)(new Date())
&#39;2020-08-23&#39;
</pre></div>


<h2>Dates</h2>
<p>Format dates per the <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO-8601</a> standard, like <code>YYYY-MM-DD</code>. In d3, the format string for this is <code>%Y-%m-%d</code>.</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="/tag/charts.html">charts</a>
      <a href="/tag/dashboards.html">dashboards</a>
      <a href="/tag/data.html">data</a>
      <a href="/tag/visualization.html">visualization</a>
    </p>
  </div>
</article>

    <footer>
      <p>&copy; Marton Trencseni </p>
<p>Built using <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a></p>    </footer>
  </main>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-1812620-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-1812620-2');
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "name": "Effective Data Visualization Part 2: Formatting numbers",
  "headline": "Effective Data Visualization Part 2: Formatting numbers",
  "datePublished": "2020-08-23 00:00:00+02:00",
  "dateModified": "2020-08-23 00:00:00+02:00",
  "author": {
    "@type": "Person",
    "name": "Marton Trencseni",
    "url": "/author/marton-trencseni.html"
  },
  "image": "{{ SITEURL }}/{{ THEME_STATIC_DIR }}/img/profile.png",
  "url": "/effective-data-visualization-part-2-formatting-numbers.html",
  "description": "What is more readable, 1.539e+5 or 153,859? Showing numbers effectively on spreadsheets, charts, dashboards, reports is a basic ingredient for readability, like formatting code."
}
</script></body>
</html>